<%- include('../includes/header.ejs', { titulo: 'Alterando Disciplinas' }) %>

<main>
    <h2>Atualizando dados da Disciplina</h2>

    <form action="/disciplinas/editar/<%= disciplina.id_disciplina %>" method="POST" class="form">
        <div class="form-group">
            <label >Nome da disciplina:</label>
            <input type="text" name="nome_disciplina" value="<%= disciplina.nome_disciplina %>" required>
        </div>
        <div class="form-group">
            <label >Professor:</label>
            <select name="id_professor" required>
                <option value="">Selecione o professor</option>
                <!-- Gerando a lista de professores cadastrados -->
                <% for (let professor of dadosProfessores) { %>                    
                    <option value="<%= professor.id_professor %>" 
                        <% if(disciplina.id_professor == professor.id_professor) {  %>
                            selected
                        <% } %>
                     ><%= professor.nome_professor %></option>
                <% } %>
            </select>
        </div>    
        <button type="submit" class="btn btn-principal">Salvar</button>
        <a href="/disciplinas/listar" class="btn btn-secundario">Cancelar</a>
    </form>

</main>

<%- include('../includes/footer.ejs') %>
